(this["webpackJsonpdiamond-solution"]=this["webpackJsonpdiamond-solution"]||[]).push([[0],{28:function(e,t,a){},29:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(19),s=a.n(c),i=(a(28),a(7)),o=a(8),l=a(10),h=a(9),j=a(23),d=(a(29),a(0)),u=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.poster_path,a=e.title,n=e.original_title,r=e.overview,c=e.vote_average,s=e.release_date,i=e.id,o="https://image.tmdb.org/t/p/w500/".concat(t),l="/#/movie/".concat(i);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("a",{className:"film-link-page",href:l,children:Object(d.jsx)("img",{src:o,alt:"",className:"film-img-page"})}),Object(d.jsxs)("div",{className:"film-header-page ",children:[Object(d.jsx)("a",{className:"film-link-page",href:l,children:Object(d.jsxs)("div",{className:"film-header-title-page",children:[Object(d.jsx)("h2",{className:"film-title-page",children:a}),Object(d.jsx)("h4",{className:"film-subtitle-page ",children:n})]})}),Object(d.jsx)("span",{className:"film-vote-page",children:c})]}),Object(d.jsx)("p",{className:"film-descriprtion-page",children:r.slice(0,520)+"..."}),Object(d.jsx)("p",{className:"film-date",children:s})]})}}]),a}(r.a.Component),m=a(15),p=a.n(m),b=a(20);function f(e){return O.apply(this,arguments)}function O(){return(O=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(a.status));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v="132095608c2685653ffbc176e0851cd7",x=(a(32),function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={error:null,isLoaded:!1,items:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e,t=this,a=new URLSearchParams(window.location.search).get("q");"main"===this.props.path?(e="https://api.themoviedb.org/3/movie/top_rated?api_key=".concat(v,"&page=1&language=ru"),this.pageTitle="Top movies"):"search"===this.props.path&&(e="https://api.themoviedb.org/3/search/movie?api_key=".concat(v,"&query=").concat(a,"&page=1&include_adult=false"),this.pageTitle="Results for ".concat(a)),f(e).then((function(e){t.setState({isLoaded:!0,items:e.results})}),(function(e){t.setState({isLoaded:!0,error:e})}))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n=e.items;if(t)return Object(d.jsxs)("div",{children:["Error: ",t.message]});if(a){var r;n.length<1&&(r=Object(d.jsx)("div",{className:"not-found",children:"Not Found"}));var c=n.map((function(e){var t=e.id;return Object(d.jsx)("div",{className:"film-wrapper",children:Object(d.jsx)(u,Object(j.a)({},e))},t)}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"page-title",children:this.pageTitle}),Object(d.jsxs)("div",{className:"page",children:[r,c]})]})}return Object(d.jsx)("div",{children:"Loading..."})}}]),a}(r.a.Component)),g=(a(33),function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={error:null,isLoaded:!1,items:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;f("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(v,"&language=ru")).then((function(t){e.setState({isLoaded:!0,items:t})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n=e.items;if(t)return Object(d.jsxs)("div",{children:["Error: ",t.message]});if(a){var r=n.poster_path,c=n.title,s=n.original_title,i=n.overview,o=n.vote_average,l=n.release_date,h="https://image.tmdb.org/t/p/w500/".concat(r);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"film-header",children:[Object(d.jsx)("img",{src:h,alt:"",className:"film-img"}),Object(d.jsxs)("div",{className:"film-info",children:[Object(d.jsxs)("div",{className:"film-header-title",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"film-title",children:c}),Object(d.jsx)("h4",{className:"film-subtitle",children:s})]}),Object(d.jsx)("span",{className:"film-vote",children:o})]}),Object(d.jsx)("p",{className:"film-descriprtion",children:i}),Object(d.jsx)("p",{className:"film-date",children:l})]})]})})}return Object(d.jsx)("div",{children:"Loading..."})}}]),a}(r.a.Component)),N=a(21),y=a(2),k=(a(34),function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("form",{method:"GET",action:"/search",className:"search-panel",children:[Object(d.jsx)("input",{onChange:this.handleChange,type:"text",name:"q",placeholder:"Enter here",className:"search-input",required:!0}),Object(d.jsx)("button",{type:"submit",className:"search-button",children:"Search"})]})}}]),a}(r.a.Component)),w=(a(35),function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(d.jsx)(N.a,{basename:"",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("a",{href:"/",className:"main-button",children:"Home"}),Object(d.jsx)(k,{}),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(y.a,{exact:!0,path:"/",render:function(){return Object(d.jsx)(x,{path:"main"})}}),Object(d.jsx)(y.a,{exact:!0,path:"/search",render:function(){return Object(d.jsx)(x,{path:"search"})}}),Object(d.jsx)(y.a,{exact:!0,path:"/#/movie",component:g})]})]})})}}]),a}(r.a.Component));s.a.render(Object(d.jsx)(w,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.bbcd715e.chunk.js.map